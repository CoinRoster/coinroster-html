<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>CoinRoster | Admin Panel</title>
    <script type="text/javascript" src="js/error.js"></script>
    <!--#include virtual="/ssi/head_admin.html" -->
</head>
<body>   
<input type="password" style="position:absolute;top:-1000px;"/>
<div id="header"></div>
<!--#include virtual="/ssi-java/nav_admin" -->
<div id="nav"></div>
<div id="pane_0" class="pane" tab_text="Contest Report">
    <div class="content_header" style="height:67px">
        <div class="content_header_title">
            Contests
        </div>
    </div>
    <div id="category_pane" class="content_body" style="top:68px">
        <div id="contest_report_table" class="report_table"></div>
    </div>
</div>
<div id="pane_1" class="pane" tab_text="Create Contest">
    <div class="content_header" style="height:67px">
        <div class="content_header_title">
            Create Contest
        </div>
    </div>
    <div class="content_body" style="top:68px">
        <h3>
            Contest Details
        </h3>
        <br/>
        <table class="form_table">
            <tr>
                <td>
                    Contest Type
                </td>
                <td colSpan="2">
                    <select data-placeholder="Select" id="contest_type_selector" class="input_style chosen-select" style="width:155px">
                        <option>ROSTER</option>
                        <option>PARI-MUTUEL</option>
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    Category
                </td>
                <td colSpan="2">
                    <select data-placeholder="Select" id="category_selector" class="input_style chosen-select" style="width:300px">
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    Sub-category
                </td>
                <td colSpan="2">
                    <select data-placeholder="Select" id="sub_category_selector" class="input_style chosen-select" style="width:300px">
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    Progressive
                </td>
                <td colSpan="2">
                    <select data-placeholder="Select" id="progressive_selector" class="input_style chosen-select" style="width:600px">
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    Title
                </td>
                <td colSpan="2">
                    <input id="contest_title_input" type="text" class="input_style text_input" maxlength="255" style="width:650px">
                </td>
            </tr>
            <tr>
                <td>
                    Description
                </td>
                <td colSpan="2">
                    <textarea id="contest_description_textarea" class="do_tinymce" rows="6" cols="100"></textarea> 
                </td>
            </tr>
            <tr>
                <td>
                    Registration deadline:
                </td>
                <td width="1">
                    <input type="text" class="input_style text_input tcal" id="registration_deadline_tcal">
                </td>
                <td>
                    <select data-placeholder="Select" id="registration_deadline_time_selector" class="input_style chosen-select" style="width:155px">
                        <option value="0">12:00 AM</option>
                        <option value="1">1:00 AM</option>
                        <option value="2">2:00 AM</option>
                        <option value="3">3:00 AM</option>
                        <option value="4">4:00 AM</option>
                        <option value="5">5:00 AM</option>
                        <option value="6">6:00 AM</option>
                        <option value="7">7:00 AM</option>
                        <option value="8">8:00 AM</option>
                        <option value="9">9:00 AM</option>
                        <option value="10">10:00 AM</option>
                        <option value="11">11:00 AM</option>
                        <option value="12">12:00 PM</option>
                        <option value="13">1:00 PM</option>
                        <option value="14">2:00 PM</option>
                        <option value="15">3:00 PM</option>
                        <option value="16">4:00 PM</option>
                        <option value="17">5:00 PM</option>
                        <option value="18" selected>6:00 PM</option>
                        <option value="19">7:00 PM</option>
                        <option value="20">8:00 PM</option>
                        <option value="21">9:00 PM</option>
                        <option value="22">10:00 PM</option>
                        <option value="23">11:00 PM</option>
                    </select>
                    &nbsp;&nbsp;
                    EST
                </td>
            </tr>
            <tr>
                <td>
                    Rake
                </td>
                <td colSpan="2">
                    <input id="rake_input" type="text" class="input_style text_input">
                    &nbsp;&nbsp;
                    %
                </td>
            </tr>
            <tr>
                <td>
                    Cost per entry
                </td>
                <td colSpan="2">
                    <input id="cost_per_entry_input" btc-input="true" type="text" class="input_style text_input">
                    &nbsp;&nbsp;
                    BTC
                </td>
            </tr>
            <tr class="roster_contest_field">
                <td>
                    Settlement type
                </td>
                <td colSpan="2">
                    <select data-placeholder="Select" id="settlement_type_selector" class="input_style chosen-select" style="width:155px">
                        <option></option>
                        <option>HEADS-UP</option>
                        <option>DOUBLE-UP</option>
                        <option>JACKPOT</option>
                    </select>
                </td>
            </tr>
            <tr class="roster_contest_field">
                <td>
                    Min users
                </td>
                <td colSpan="2">
                    <input id="min_users_input" type="text" class="input_style text_input">
                </td>
            </tr>
            <tr class="roster_contest_field">
                <td>
                    Max users
                </td>
                <td colSpan="2">
                    <input id="max_users_input" type="text" class="input_style text_input">
                    &nbsp;&nbsp;
                    (leave blank for no max)
                </td>
            </tr>
            <tr class="roster_contest_field">
                <td>
                    Entries per user
                </td>
                <td colSpan="2">
                    <input id="entries_per_user_input" type="text" class="input_style text_input">
                    &nbsp;&nbsp;
                    (leave blank for no max)
                </td>
            </tr>
            <tr class="roster_contest_field">
                <td>
                    Roster size
                </td>
                <td colSpan="2">
                    <input id="roster_size_input" type="text" class="input_style text_input">
                    &nbsp;&nbsp;
                    (leave blank for no fixed roster size)
                </td>
            </tr>
            <tr class="roster_contest_field">
                <td>
                    Score column header
                </td>
                <td colSpan="2">
                    <input id="score_header_input" type="text" class="input_style text_input">
                    &nbsp;&nbsp;
                    (e.g. Goals | Points | Score to par)
                </td>
            </tr>
        </table>
        <div id="create_jackpot_pay_table" class="roster_contest_field hidden">
            <h3>
                Jackpot Pay Table
            </h3>
            <table class="form_table">
                <tr>
                    <td>
                        Number of payouts
                    </td>
                    <td>
                        <input id="number_of_payouts_input" type="text" class="input_style text_input">
                    </td>
                    <td>
                        <button type="button" class="input_style" onclick="create_jackpot_pay_table();">Apply</button>
                    </td>
                </tr>
            </table>
            <div id="jackpot_pay_table" class="report_table"></div>
            <div id="validate_pay_table_button" style="display:none">
                <button type="button" class="input_style" onclick="validate_jackpot_pay_table();">Check total allocation</button>
                <br/>
                <br/>
            </div>
        </div>
        <div class="roster_contest_field">
            <h3>
                Player Pricing
            </h3>
            <br/>
            <table class="form_table">
                <tr>
                    <td>
                        Salary Cap ($)
                    </td>
                    <td colspan="2">
                        <input id="salary_cap_input" type="text" class="input_style text_input">
                    </td>
                </tr>
                <tr>
                    <td>
                        Odds Source e.g.
                    </td>
                    <td colspan="2">
                        http://www.vegasinsider.com/golf/odds/futures/
                    </td>
                </tr>
                <tr>
                    <td>
                        Odds source
                    </td>
                    <td colSpan="2">
                        <input id="odds_url_input" type="text" class="input_style text_input" style="width:650px">
                    </td>
                    <td>
                        <button type="button" class="input_style" onclick="scrape_player_odds(true);">Scrape</button>
                    </td>
                    <td>
                        or
                    </td>
                    <td>
                        <button type="button" class="input_style" onclick="paste_player_odds();">Excel Paste</button>
                    </td>
                    <td>
                        or
                    </td>
                    <td>
                        <button type="button" class="input_style" onclick="scrape_player_odds(false);">Manual Entry</button>
                    </td>
                </tr>
                <tr id="number_of_players_row" style="display:none">
                    <td>
                        Number of players
                    </td>
                    <td>
                        <input id="number_of_players_input" type="text" class="input_style text_input">
                        &nbsp;&nbsp;
                        <button type="button" class="input_style" onclick="create_manual_player_table();">Apply</button>
                    </td>
                </tr>
                <tr id="multiplier_row" style="display:none">
                    <td>
                        Multiplier ($)
                    </td>
                    <td>
                        <input id="odds_multiplier_input" type="text" class="input_style text_input">
                        &nbsp;&nbsp;
                        <button type="button" class="input_style" onclick="price_players();">Price Players</button>
                    </td>
                </tr>
                <tr id="paste_excel_row" style="display:none">
                    <td colspan="8">
                        <textarea id="excel_data_textarea" placeholder="Paste excel data here..." cols="100" rows="40"></textarea> 
                        <br/><br/>
                        <button type="button" class="input_style" onclick="process_excel_data('ODDS', 'paste_excel_row');">Process odds</button>
                        <button type="button" class="input_style" onclick="process_excel_data('PRICES', 'paste_excel_row');">Process prices</button>
                        <button type="button" class="input_style" onclick="cancel_excel_data('paste_excel_row');">Cancel</button>
                    </td>
                </tr>
            </table>
            <div id="player_option_table" class="report_table"></div>
            <button id="add_player_button" type="button" class="input_style" onclick="add_player();" style="display:none">Add Player</button>
        </div>
        <div class="pari_mutuel_contest_field hidden">
            <h3>
                Pari-mutuel option table
            </h3>
            <table class="form_table">
                <tr>
                    <td width="1">
                        Number of options
                    </td>
                    <td width="1">
                        <input id="number_of_options" type="text" class="input_style text_input">
                    </td>
                    <td width="1">
                        <button type="button" class="input_style" onclick="create_pari_mutuel_table();">Apply</button>
                    </td>
                    <td width="1">
                        or
                    </td>
                    <td width="1">
                        <button type="button" class="input_style" onclick="paste_pari_mutuel_options();">Excel Paste</button>
                    </td>
                    <td>
                        
                    </td>
                </tr>
                <tr id="paste_pari_mutuel_row" style="display:none">
                    <td colspan="6">
                        <textarea id="pari_mutuel_excel_textarea" placeholder="Paste excel data here..." cols="100" rows="40"></textarea> 
                        <br/><br/>
                        <button type="button" class="input_style" onclick="process_excel_data('PARI-MUTUEL', 'paste_pari_mutuel_row');">Create outcome rows</button>
                        <button type="button" class="input_style" onclick="cancel_excel_data('paste_pari_mutuel_row');">Cancel</button>
                    </td>
                </tr>
            </table>
            <div id="pari_mutuel_table" class="report_table"></div>
        </div>
        <br/>
        <br/>
        <button type="button" class="input_style huge_button" onclick="create_contest();">Create Contest</button>
        <br/>
        <br/>
        <br/>
    </div>
</div>
<div id="pane_2" class="pane" tab_text="Live Scoring">
    <div class="content_header" style="height:67px">
        <div class="content_header_title">
            Live Scoring
        </div>
    </div>
    <div id="scorable_contest_report" class="content_body" style="top:68px">
        <div id="scorable_contest_table" class="report_table"></div>
    </div>
    <div id="score_contest" class="content_body" style="top:68px">
        <button type="button" class="input_style" onclick="cancel_score_contest();">Go back</button>
        <br/><br/>
        <h3 style="font-weight:normal">
            Contest <span id="scoring_contest_id"></span>
        </h3>
        <h2>
            <span id="scoring_contest_title"></span>
        </h2>
        Enter scores (<span id="score_header"></span>):
        <br/><br/>
        <div id="roster_score_table" class="report_table"></div>
        <br/>
        <table class="form_table">
            <tr>
                <td>
                    <b>You must normalize scores:</b>
                    <br/>
                    This enforces validation
                </td>
                <td>
                    <select data-placeholder="Select" id="scoring_normalization_selector" class="input_style chosen-select" style="width:300px">
                        <option value="INTEGER">INTEGER</option>
                        <option value="INTEGER-INVERT">INTEGER-INVERT</option>
                        <option value="DECIMAL">DECIMAL</option>
                        <option value="DECIMAL-INVERT">DECIMAL-INVERT</option>
                        <!--<option value="TIME-MM-SS">TIME (MM:SS)</option>
                        <option value="TIME-MM-SS-INVERT">TIME-INVERT (MM:SS)</option>
                        <option value="TIME-MM-SS-MS">TIME (MM:SS.SSS)</option>
                        <option value="TIME-MM-SS-MS-INVERT">TIME-INVERT (MM:SS.SSS)</option>
                        <option value="TIME-HH-MM">TIME (HH:MM)</option>
                        <option value="TIME-HH-MM-INVERT">TIME-INVERT (HH:MM)</option>
                        <option value="TIME-HH-MM-SS">TIME (HH:MM:SS)</option>
                        <option value="TIME-HH-MM-SS-INVERT">TIME-INVERT (HH:MM:SS)</option>-->
                    </select>
                </td>
                <td>
                    <button type="button" class="input_style" onclick="normalize_player_scores('roster_score_table');">Normalize Player Scores</button>
                </td>
            </tr>
        </table>
        <button id="update_scores_button" type="button" class="input_style hidden" onclick="update_scores('roster_score_table');">Update Scores</button>
        <br/>
        You can safely cancel out of here by reloading the page or clicking "Go back" at the top of this window.
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
        <br/>
    </div>
</div>
<div id="pane_3" class="pane" tab_text="Settle Contest">
    <div class="content_header" style="height:67px">
        <div class="content_header_title">
            Settle Contest
        </div>
    </div>
    <div id="in_play_contest_report" class="content_body" style="top:68px">
        <div id="in_play_contest_report_table" class="report_table"></div>
    </div>
    <div id="settle_contest" class="content_body" style="top:68px">
        <div style="width:800px;background:orange;padding:20px;font-size:18px;">
            You are in the Contest Settlement tab! If you only want to update scores, please <button type="button" class="input_style" onclick="cancel_settle_contest();">Go back</button>
        </div>
        <br/>
        <h3 style="font-weight:normal">
            Contest <span id="contest_id"></span> | <span id="contest_type"></span>
        </h3>
        <h2>
            <span id="contest_title"></span>
        </h2>
        <div id="settle_pari_mutuel">
            Select winning outcome:
            <br/><br/>
            <div id="pari_mutuel_outcome_table" class="report_table"></div>
            <br/>
            <button type="button" class="input_style" onclick="settle_pari_mutuel_contest();">Settle Contest</button>
        </div>
        <div id="settle_roster">
            Enter scores:
            <br/><br/>
            <div id="roster_outcome_table" class="report_table"></div>
            <br/>
            <table class="form_table">
                <tr>
                    <td>
                        <b>You must normalize scores:</b>
                        <br/>
                        This enforces validation
                    </td>
                    <td>
                        <select data-placeholder="Select" id="settlement_normalization_selector" class="input_style chosen-select" style="width:300px">
                            <option value="INTEGER">INTEGER</option>
                            <option value="INTEGER-INVERT">INTEGER-INVERT</option>
                            <option value="DECIMAL">DECIMAL</option>
                            <option value="DECIMAL-INVERT">DECIMAL-INVERT</option>
                            <!--<option value="TIME-MM-SS">TIME (MM:SS)</option>
                            <option value="TIME-MM-SS-INVERT">TIME-INVERT (MM:SS)</option>
                            <option value="TIME-MM-SS-MS">TIME (MM:SS.SSS)</option>
                            <option value="TIME-MM-SS-MS-INVERT">TIME-INVERT (MM:SS.SSS)</option>
                            <option value="TIME-HH-MM">TIME (HH:MM)</option>
                            <option value="TIME-HH-MM-INVERT">TIME-INVERT (HH:MM)</option>
                            <option value="TIME-HH-MM-SS">TIME (HH:MM:SS)</option>
                            <option value="TIME-HH-MM-SS-INVERT">TIME-INVERT (HH:MM:SS)</option>-->
                        </select>
                    </td>
                    <td>
                        <button type="button" class="input_style" onclick="normalize_player_scores('roster_outcome_table');">Normalize Player Scores</button>
                    </td>
                </tr>
            </table>
            <button id="settle_roster_button" type="button" class="input_style hidden" onclick="settle_roster_contest('roster_outcome_table');">Settle Contest</button>
            <br/>
            You can safely cancel out of here by reloading the page or clicking "Go back" at the top of this window.
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
            <br/>
        </div>
    </div>
</div>
<div id="pane_4" class="pane" tab_text="Create Progressive">
    <div class="content_header" style="height:67px">
        <div class="content_header_title">
            Create Progressive
        </div>
    </div>
    <div class="content_body" style="top:68px">
        <table class="settings" style="top:20px">
            <tr>
                <td>
                    Category
                </td>
                <td>
                    <select data-placeholder="Select" id="category_selector_progressive" class="input_style chosen-select" style="width:300px">
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    Sub-category
                </td>
                <td>
                    <select data-placeholder="Select" id="sub_category_selector_progressive" class="input_style chosen-select" style="width:300px">
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    Code (unique):
                </td>
                <td>
                    <input id="progressive_code_input" type="text" class="input_style text_input" maxlength="20">
                    20 chars or less
                </td>
            </tr>
            <tr>
                <td>
                    Payout info:
                </td>
                <td>
                    <textarea maxlength="500" id="progressive_payout_info" rows="6" cols="60"></textarea>
                </td>
            </tr>
            <tr>
                <td>
                    <button type="button" class="input_style" onclick="create_progressive();">Create Progressive</button>
                </td>
            </tr>
        </table>
    </div>
</div>
<div id="pane_5" class="pane" tab_text="Progressive Report">
    <div class="content_header" style="height:67px">
        <div class="content_header_title">
            Progressive
        </div>
    </div>
    <div class="content_body" style="top:68px">
        <div id="progressive_report_table" class="report_table"></div>
    </div>
</div>
<div id="pane_6" class="pane" tab_text="Add to Existing Progressive ">
    <div class="content_header" style="height:67px">
        <div class="content_header_title">
            Add to Existing Progressive
        </div>
    </div>
    <div class="content_body" style="top:68px">
        <table class="settings" style="top:20px">
            <tr>
                <td>
                    Code
                </td>
                <td>
                    <select data-placeholder="Select" id="code_selector_progressive" class="input_style chosen-select" style="width:300px">
                    </select>
                </td>
            </tr>
            <tr>
                <td>
                    Amount to add:
                </td>
                <td>
                    <input id="progressive_addition_input" type="text" class="input_style text_input" maxlength="20">
                </td>
            </tr>
            <tr>
                <td>
                    Current Progressive Balance:
                </td>
                <td>
                    <span id="progressive_code_balance"></span>
                </td>
            </tr>
            <tr>
                <td>
                    Internal Promotions Balance:
                </td>
                <td>
                    <span id="internal_promotions_balance"></span>
                </td>
            </tr>
            <!-- <tr>
                <td>
                    Payout info:
                </td>
                <td>
                    <textarea maxlength="500" id="progressive_payout_info" rows="6" cols="60"></textarea>
                </td>
            </tr> -->
            <tr>
                <td>
                    <button type="button" class="input_style" onclick="add_to_progressive();">Create Progressive</button>
                </td>
            </tr>
        </table>
    </div>
</div>
<div id="pane_7" class="pane" tab_text="Pending Contests">
    <div class="content_header" style="height:67px">
        <div class="content_header_title">
            Pending Contests
        </div>
    </div>
    <div class="content_body" style="top:68px">
        <div id="pending_contest_table" class="report_table"></div>
    </div>
</div>
<script type="text/javascript" src="/js/btc_inputs.js"></script>
<script type="text/javascript" src="js/contests.js"></script>
<script type="text/javascript" src="js/admin.js"></script>
<script type="text/javascript" src="/js/nav.js"></script>
<script type="text/javascript">
    var call = api({
            method: "GetPromotionBalance",
            args: {}
        });
        
        if (call.status === "1") 
            {
            id("internal_promotions_balance").innerHTML = call.internal_promo_balance + ' BTC';
            }
        else id("internal_promotions_balance").innerHTML = 'Could not complete request';
</script>
</body>
</html>