<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <title>CoinRoster | Change your display currency</title>
    <!--#include virtual="/ssi/head.html" -->
    <link rel="stylesheet" type="text/css" href="/css/account.css">
</head>
<body>
<!--#include virtual="/ssi-java/nav" -->
<!--#include virtual="/ssi/simple_modal.html" -->
<div id="centering_container">
    <div id="body_container">
        <div id="initial_container">
            <h3 class="section_header">
                Currency
            </h3>
            <div class="input_padding description_text constrain_width">
                <span style="font-size:11px">
                    CoinRoster's fiat currency display is provided "as is" and solely for informational purposes, not for trading purposes or advice, and may be delayed.
                </span>
                <br/>
                <br/>
                <br/>
                Your current display currency is:
                <br/>
                <br/>
                <span id="currency" class="teal"></span>
                <br/>
                <br/>
                <br/>
                To change your display currency, please select from the following list:
                <br/>
                <br/>
                <table id="currency_table"></table>
            </div>
        </div>
    </div>
</div>
<script type="text/javascript" src="/js/btc_inputs.js"></script>
<script type="text/javascript">

    function init()
        {
        var
        
        currency_symbol = window.session.currency,
        currency_description = window.session.currency_description;

        id("currency").innerHTML = currency_symbol + " - " + currency_description;
        
        api({
            method: "GetCurrencyOptions",
            args: {}
        }, function(call)
            {
            if (call.status === "1")
                {
                var 
                
                currency_options = call.currency_options,
                number_of_currencies = currency_options.length,
                table = id("currency_table");
        
                for (var i=0; i<number_of_currencies; i++)
                    {
                    var currency = currency_options[i],
                    symbol = currency.symbol,
                    description = currency.description;
            
                    var row = new_row(table, -1, [
                        symbol,
                        description
                    ]);
                    
                    row[1].className = "teal";
                    row[0].onclick = (function(symbol)
                        {
                        return function()
                            {
                            api({
                                method: "UpdateUserCurrency",
                                args: {
                                    symbol: symbol
                                }
                            }, function(call)
                                {
                                if (call.status === "1")
                                    {
                                    show_simple_modal("Your display currency has been updated!", "good", function()
                                        {
                                        window.location.reload();
                                        window.scrollTo(0,0);
                                        });
                                    }
                                });  
                            };
                        })(symbol);
                    }
                }
            });
        }
        
</script>
<script type="text/javascript">
    window.nav_text = "Currency";
</script>
<script type="text/javascript" src="/js/nav.js"></script>
<!--#include virtual="/ssi/google_analytics.html" -->
</body>
</html>
